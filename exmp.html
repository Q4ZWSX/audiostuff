<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Audiopolis: Audio Analyzer</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <script>
        function checkFileExtension() {
            const fileInput = document.getElementById('fileInput');
            const filePath = fileInput.value;
            // Getting the file extension
            const fileExtension = filePath.slice((filePath.lastIndexOf(".") - 1 >>> 0) + 2);
            // Check if it is wav or mp4
            if (fileExtension !== 'wav' && fileExtension !== 'mp4') {
                alert('Please upload only .wav or .mp4 files.');
                return false; // Prevent form submission
            }
            return true;
        }
    </script>
</head>

<body>
    <div class="container mt-5">
        <h2>Audiopolis [BETA]</h2>
        <form method="POST" enctype="multipart/form-data" onsubmit="return checkFileExtension();">
            <input id="csrf_token" name="csrf_token" type="hidden" value="ImZmZTAxZTBkYTE4ZTc2Mzg4MjFmNThlNTExOGNjNWViOGE4NTkzNWUi.ZTwQ9A.e_4Cv7h6QMkq2hZP7u_MkcBk_y8">
            <div class="form-group">
                <label for="file">Upload an MP4 or WAV voice recording to get a speech transcript!</label> <br>
                <input type="file" id="fileInput" name="file">
            </div>
            <div class="form-group">
                <button type="submit" class="btn btn-primary">Submit</button>
            </div>
        </form>
        
        

        <br>
        <b>Tip:</b> Want more control over the text to speech analysis? Sub out numbers and special characters! Say
        "space", "ampersand", "slash", etc!
    </div>
</body>

</html>